{"ast":null,"code":"var __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nimport { useCallback, useState } from 'react';\nvar defaultOptions = {\n  maxSize: 100\n};\n/**\n * useUndoState hook\n * Drop in replacement for useState hook but with undo functionality.\n *\n * @param {any} defaultValue\n * @param {UndoStateOptions} [{ maxSize }=defaultOptions]\n * @returns {[any, Function, Function]}\n */\n\nvar useUndoState = function (defaultValue, options) {\n  var maxSize = Object.assign({}, defaultOptions, options).maxSize;\n\n  var _a = useState([defaultValue]),\n      value = _a[0],\n      setValue = _a[1];\n\n  var push = useCallback(function (setterOrValue) {\n    return setValue(function (current) {\n      var restValues = current.length >= maxSize ? current.slice(0, maxSize) : current;\n\n      if (typeof setterOrValue === 'function') {\n        return __spreadArray([setterOrValue(current[0])], restValues, true);\n      } else {\n        return __spreadArray([setterOrValue], restValues, true);\n      }\n    });\n  }, [maxSize]);\n  var undo = useCallback(function () {\n    setValue(function (current) {\n      if (current.length === 1) {\n        return current;\n      }\n\n      var values = current.slice(1);\n      return values;\n    });\n  }, []);\n  return [value[0], push, undo];\n};\n\nexport { useUndoState };","map":{"version":3,"sources":["D:/react/productwebsite/node_modules/rooks/dist/esm/hooks/useUndoState.js"],"names":["__spreadArray","to","from","pack","arguments","length","i","l","ar","Array","prototype","slice","call","concat","useCallback","useState","defaultOptions","maxSize","useUndoState","defaultValue","options","Object","assign","_a","value","setValue","push","setterOrValue","current","restValues","undo","values"],"mappings":"AAAA,IAAIA,aAAa,GAAI,QAAQ,KAAKA,aAAd,IAAgC,UAAUC,EAAV,EAAcC,IAAd,EAAoBC,IAApB,EAA0B;AAC1E,MAAIA,IAAI,IAAIC,SAAS,CAACC,MAAV,KAAqB,CAAjC,EAAoC,KAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGL,IAAI,CAACG,MAApB,EAA4BG,EAAjC,EAAqCF,CAAC,GAAGC,CAAzC,EAA4CD,CAAC,EAA7C,EAAiD;AACjF,QAAIE,EAAE,IAAI,EAAEF,CAAC,IAAIJ,IAAP,CAAV,EAAwB;AACpB,UAAI,CAACM,EAAL,EAASA,EAAE,GAAGC,KAAK,CAACC,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BV,IAA3B,EAAiC,CAAjC,EAAoCI,CAApC,CAAL;AACTE,MAAAA,EAAE,CAACF,CAAD,CAAF,GAAQJ,IAAI,CAACI,CAAD,CAAZ;AACH;AACJ;AACD,SAAOL,EAAE,CAACY,MAAH,CAAUL,EAAE,IAAIC,KAAK,CAACC,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BV,IAA3B,CAAhB,CAAP;AACH,CARD;;AASA,SAASY,WAAT,EAAsBC,QAAtB,QAAsC,OAAtC;AACA,IAAIC,cAAc,GAAG;AAAEC,EAAAA,OAAO,EAAE;AAAX,CAArB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIC,YAAY,GAAG,UAAUC,YAAV,EAAwBC,OAAxB,EAAiC;AAChD,MAAIH,OAAO,GAAGI,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBN,cAAlB,EAAkCI,OAAlC,EAA2CH,OAAzD;;AACA,MAAIM,EAAE,GAAGR,QAAQ,CAAC,CAACI,YAAD,CAAD,CAAjB;AAAA,MAAmCK,KAAK,GAAGD,EAAE,CAAC,CAAD,CAA7C;AAAA,MAAkDE,QAAQ,GAAGF,EAAE,CAAC,CAAD,CAA/D;;AACA,MAAIG,IAAI,GAAGZ,WAAW,CAAC,UAAUa,aAAV,EAAyB;AAC5C,WAAOF,QAAQ,CAAC,UAAUG,OAAV,EAAmB;AAC/B,UAAIC,UAAU,GAAGD,OAAO,CAACvB,MAAR,IAAkBY,OAAlB,GAA4BW,OAAO,CAACjB,KAAR,CAAc,CAAd,EAAiBM,OAAjB,CAA5B,GAAwDW,OAAzE;;AACA,UAAI,OAAOD,aAAP,KAAyB,UAA7B,EAAyC;AACrC,eAAO3B,aAAa,CAAC,CAAC2B,aAAa,CAACC,OAAO,CAAC,CAAD,CAAR,CAAd,CAAD,EAA8BC,UAA9B,EAA0C,IAA1C,CAApB;AACH,OAFD,MAGK;AACD,eAAO7B,aAAa,CAAC,CAAC2B,aAAD,CAAD,EAAkBE,UAAlB,EAA8B,IAA9B,CAApB;AACH;AACJ,KARc,CAAf;AASH,GAVqB,EAUnB,CAACZ,OAAD,CAVmB,CAAtB;AAWA,MAAIa,IAAI,GAAGhB,WAAW,CAAC,YAAY;AAC/BW,IAAAA,QAAQ,CAAC,UAAUG,OAAV,EAAmB;AACxB,UAAIA,OAAO,CAACvB,MAAR,KAAmB,CAAvB,EAA0B;AACtB,eAAOuB,OAAP;AACH;;AACD,UAAIG,MAAM,GAAGH,OAAO,CAACjB,KAAR,CAAc,CAAd,CAAb;AACA,aAAOoB,MAAP;AACH,KANO,CAAR;AAOH,GARqB,EAQnB,EARmB,CAAtB;AASA,SAAO,CAACP,KAAK,CAAC,CAAD,CAAN,EAAWE,IAAX,EAAiBI,IAAjB,CAAP;AACH,CAxBD;;AAyBA,SAASZ,YAAT","sourcesContent":["var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useCallback, useState } from 'react';\nvar defaultOptions = { maxSize: 100 };\n/**\n * useUndoState hook\n * Drop in replacement for useState hook but with undo functionality.\n *\n * @param {any} defaultValue\n * @param {UndoStateOptions} [{ maxSize }=defaultOptions]\n * @returns {[any, Function, Function]}\n */\nvar useUndoState = function (defaultValue, options) {\n    var maxSize = Object.assign({}, defaultOptions, options).maxSize;\n    var _a = useState([defaultValue]), value = _a[0], setValue = _a[1];\n    var push = useCallback(function (setterOrValue) {\n        return setValue(function (current) {\n            var restValues = current.length >= maxSize ? current.slice(0, maxSize) : current;\n            if (typeof setterOrValue === 'function') {\n                return __spreadArray([setterOrValue(current[0])], restValues, true);\n            }\n            else {\n                return __spreadArray([setterOrValue], restValues, true);\n            }\n        });\n    }, [maxSize]);\n    var undo = useCallback(function () {\n        setValue(function (current) {\n            if (current.length === 1) {\n                return current;\n            }\n            var values = current.slice(1);\n            return values;\n        });\n    }, []);\n    return [value[0], push, undo];\n};\nexport { useUndoState };\n"]},"metadata":{},"sourceType":"module"}