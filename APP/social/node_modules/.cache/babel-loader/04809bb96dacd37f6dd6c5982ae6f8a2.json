{"ast":null,"code":"import { useEffect } from 'react';\nimport { useFreshTick } from './useFreshTick';\nimport { useIsomorphicEffect } from './useIsomorphicEffect';\nimport { useRefElement } from './useRefElement';\n/**\n *  useEventListenerRef hook\n *\n *  A react hook to an event listener to an element\n *  Returns a ref\n *\n * @param {string} eventName The event to track\n * @param {Function} callback The callback to be called on event\n * @param {object} conditions The options to be passed to the event listener\n * @param {boolean} isLayoutEffect Should it use layout effect. Defaults to false\n * @returns {Function} A callback ref that can be used as ref prop\n */\n\nfunction useEventListenerRef(eventName, callback, listenerOptions, isLayoutEffect) {\n  if (listenerOptions === void 0) {\n    listenerOptions = {};\n  }\n\n  if (isLayoutEffect === void 0) {\n    isLayoutEffect = false;\n  }\n\n  var _a = useRefElement(),\n      ref = _a[0],\n      element = _a[1];\n\n  var freshCallback = useFreshTick(callback);\n  var capture = listenerOptions.capture,\n      passive = listenerOptions.passive,\n      once = listenerOptions.once;\n  var useEffectToRun = isLayoutEffect ? useIsomorphicEffect : useEffect;\n  useEffectToRun(function () {\n    if (!(element && element.addEventListener)) {\n      return;\n    }\n\n    element.addEventListener(eventName, freshCallback, listenerOptions);\n    return function () {\n      element.removeEventListener(eventName, freshCallback, listenerOptions);\n    };\n  }, [element, eventName, capture, passive, once]);\n  return ref;\n}\n\nexport { useEventListenerRef };","map":{"version":3,"sources":["D:/react/productwebsite/node_modules/rooks/dist/esm/hooks/useEventListenerRef.js"],"names":["useEffect","useFreshTick","useIsomorphicEffect","useRefElement","useEventListenerRef","eventName","callback","listenerOptions","isLayoutEffect","_a","ref","element","freshCallback","capture","passive","once","useEffectToRun","addEventListener","removeEventListener"],"mappings":"AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,YAAT,QAA6B,gBAA7B;AACA,SAASC,mBAAT,QAAoC,uBAApC;AACA,SAASC,aAAT,QAA8B,iBAA9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASC,mBAAT,CAA6BC,SAA7B,EAAwCC,QAAxC,EAAkDC,eAAlD,EAAmEC,cAAnE,EAAmF;AAC/E,MAAID,eAAe,KAAK,KAAK,CAA7B,EAAgC;AAAEA,IAAAA,eAAe,GAAG,EAAlB;AAAuB;;AACzD,MAAIC,cAAc,KAAK,KAAK,CAA5B,EAA+B;AAAEA,IAAAA,cAAc,GAAG,KAAjB;AAAyB;;AAC1D,MAAIC,EAAE,GAAGN,aAAa,EAAtB;AAAA,MAA0BO,GAAG,GAAGD,EAAE,CAAC,CAAD,CAAlC;AAAA,MAAuCE,OAAO,GAAGF,EAAE,CAAC,CAAD,CAAnD;;AACA,MAAIG,aAAa,GAAGX,YAAY,CAACK,QAAD,CAAhC;AACA,MAAIO,OAAO,GAAGN,eAAe,CAACM,OAA9B;AAAA,MAAuCC,OAAO,GAAGP,eAAe,CAACO,OAAjE;AAAA,MAA0EC,IAAI,GAAGR,eAAe,CAACQ,IAAjG;AACA,MAAIC,cAAc,GAAGR,cAAc,GAAGN,mBAAH,GAAyBF,SAA5D;AACAgB,EAAAA,cAAc,CAAC,YAAY;AACvB,QAAI,EAAEL,OAAO,IAAIA,OAAO,CAACM,gBAArB,CAAJ,EAA4C;AACxC;AACH;;AACDN,IAAAA,OAAO,CAACM,gBAAR,CAAyBZ,SAAzB,EAAoCO,aAApC,EAAmDL,eAAnD;AACA,WAAO,YAAY;AACfI,MAAAA,OAAO,CAACO,mBAAR,CAA4Bb,SAA5B,EAAuCO,aAAvC,EAAsDL,eAAtD;AACH,KAFD;AAGH,GARa,EAQX,CAACI,OAAD,EAAUN,SAAV,EAAqBQ,OAArB,EAA8BC,OAA9B,EAAuCC,IAAvC,CARW,CAAd;AASA,SAAOL,GAAP;AACH;;AACD,SAASN,mBAAT","sourcesContent":["import { useEffect } from 'react';\nimport { useFreshTick } from './useFreshTick';\nimport { useIsomorphicEffect } from './useIsomorphicEffect';\nimport { useRefElement } from './useRefElement';\n/**\n *  useEventListenerRef hook\n *\n *  A react hook to an event listener to an element\n *  Returns a ref\n *\n * @param {string} eventName The event to track\n * @param {Function} callback The callback to be called on event\n * @param {object} conditions The options to be passed to the event listener\n * @param {boolean} isLayoutEffect Should it use layout effect. Defaults to false\n * @returns {Function} A callback ref that can be used as ref prop\n */\nfunction useEventListenerRef(eventName, callback, listenerOptions, isLayoutEffect) {\n    if (listenerOptions === void 0) { listenerOptions = {}; }\n    if (isLayoutEffect === void 0) { isLayoutEffect = false; }\n    var _a = useRefElement(), ref = _a[0], element = _a[1];\n    var freshCallback = useFreshTick(callback);\n    var capture = listenerOptions.capture, passive = listenerOptions.passive, once = listenerOptions.once;\n    var useEffectToRun = isLayoutEffect ? useIsomorphicEffect : useEffect;\n    useEffectToRun(function () {\n        if (!(element && element.addEventListener)) {\n            return;\n        }\n        element.addEventListener(eventName, freshCallback, listenerOptions);\n        return function () {\n            element.removeEventListener(eventName, freshCallback, listenerOptions);\n        };\n    }, [element, eventName, capture, passive, once]);\n    return ref;\n}\nexport { useEventListenerRef };\n"]},"metadata":{},"sourceType":"module"}