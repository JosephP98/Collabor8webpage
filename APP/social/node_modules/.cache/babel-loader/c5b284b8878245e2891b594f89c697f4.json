{"ast":null,"code":"var _jsxFileName = \"D:\\\\react\\\\productwebsite\\\\APP\\\\social\\\\src\\\\components\\\\Chat\\\\chat.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { io } from 'socket.io-client';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet navigate = useNavigate();\n\nfunction Chat(props) {\n  _s();\n\n  function handleMessageSent(e) {\n    const focusedElement = document.activeElement.tagName.toLowerCase();\n    const charCode = typeof e.which == \"number\" ? e.which : e.keyCode;\n\n    if (charCode === 13 && focusedElement === \"textarea\") {\n      const messagebox = document.getElementsByTagName(\"textarea\")[0];\n      props.socket.emit('message', {\n        id: props.socket.id,\n        message: messagebox.value\n      });\n      messagebox.value = \"\";\n    }\n  }\n\n  useEffect(() => {\n    console.log(props.socket);\n    props.socket.on('message', m => {\n      const ul = document.getElementById(\"messages\");\n      const li = document.createElement(\"li\");\n      li.appendChild(document.createTextNode(`${m.id === props.socket.id ? \"you\" : m.id}: \"${m.message}\"`));\n      ul.appendChild(li);\n    });\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat\",\n    onKeyPress: handleMessageSent,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"messageWindow\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        id: \"messages\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"messageInput\",\n      children: /*#__PURE__*/_jsxDEV(\"textarea\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        navigate('/');\n      },\n      children: \"return home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Chat, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Chat;\nexport default Chat;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"sources":["D:/react/productwebsite/APP/social/src/components/Chat/chat.js"],"names":["React","useEffect","io","useNavigate","navigate","Chat","props","handleMessageSent","e","focusedElement","document","activeElement","tagName","toLowerCase","charCode","which","keyCode","messagebox","getElementsByTagName","socket","emit","id","message","value","console","log","on","m","ul","getElementById","li","createElement","appendChild","createTextNode"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,EAAT,QAAmB,kBAAnB;AACA,SAAQC,WAAR,QAA0B,kBAA1B;;AAEA,IAAIC,QAAQ,GAAGD,WAAW,EAA1B;;AAEA,SAASE,IAAT,CAAcC,KAAd,EAAqB;AAAA;;AACjB,WAASC,iBAAT,CAA2BC,CAA3B,EAA8B;AAC1B,UAAMC,cAAc,GAAGC,QAAQ,CAACC,aAAT,CAAuBC,OAAvB,CAA+BC,WAA/B,EAAvB;AACA,UAAMC,QAAQ,GAAI,OAAON,CAAC,CAACO,KAAT,IAAkB,QAAnB,GAA+BP,CAAC,CAACO,KAAjC,GAAyCP,CAAC,CAACQ,OAA5D;;AAEA,QAAIF,QAAQ,KAAK,EAAb,IAAmBL,cAAc,KAAK,UAA1C,EAAsD;AAClD,YAAMQ,UAAU,GAAGP,QAAQ,CAACQ,oBAAT,CAA8B,UAA9B,EAA0C,CAA1C,CAAnB;AAEAZ,MAAAA,KAAK,CAACa,MAAN,CAAaC,IAAb,CAAkB,SAAlB,EAA6B;AACzBC,QAAAA,EAAE,EAAEf,KAAK,CAACa,MAAN,CAAaE,EADQ;AAEzBC,QAAAA,OAAO,EAAEL,UAAU,CAACM;AAFK,OAA7B;AAKAN,MAAAA,UAAU,CAACM,KAAX,GAAmB,EAAnB;AACH;AACJ;;AAEDtB,EAAAA,SAAS,CAAC,MAAM;AACZuB,IAAAA,OAAO,CAACC,GAAR,CAAYnB,KAAK,CAACa,MAAlB;AACAb,IAAAA,KAAK,CAACa,MAAN,CAAaO,EAAb,CAAgB,SAAhB,EAA2BC,CAAC,IAAI;AAC5B,YAAMC,EAAE,GAAGlB,QAAQ,CAACmB,cAAT,CAAwB,UAAxB,CAAX;AACA,YAAMC,EAAE,GAAGpB,QAAQ,CAACqB,aAAT,CAAuB,IAAvB,CAAX;AACAD,MAAAA,EAAE,CAACE,WAAH,CAAetB,QAAQ,CAACuB,cAAT,CAAyB,GAAEN,CAAC,CAACN,EAAF,KAASf,KAAK,CAACa,MAAN,CAAaE,EAAtB,GAA2B,KAA3B,GAAmCM,CAAC,CAACN,EAAG,MAAKM,CAAC,CAACL,OAAQ,GAAlF,CAAf;AACAM,MAAAA,EAAE,CAACI,WAAH,CAAeF,EAAf;AACH,KALD;AAMH,GARQ,CAAT;AAUA,sBAII;AAAK,IAAA,SAAS,EAAC,MAAf;AAAsB,IAAA,UAAU,EAAEvB,iBAAlC;AAAA,4BACI;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA,6BACI;AAAI,QAAA,EAAE,EAAC;AAAP;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ,eAII;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA,6BACI;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAJJ,eAQI;AAAQ,MAAA,OAAO,EAAE,MAAM;AAACH,QAAAA,QAAQ,CAAC,GAAD,CAAR;AAAc,OAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YARJ;AAAA;AAAA;AAAA;AAAA;AAAA,UAJJ;AAgBH;;GA3CQC,I;;KAAAA,I;AA6CT,eAAeA,IAAf","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { io } from 'socket.io-client';\r\nimport {useNavigate} from 'react-router-dom';\r\n\r\nlet navigate = useNavigate();\r\n\r\nfunction Chat(props) {\r\n    function handleMessageSent(e) {\r\n        const focusedElement = document.activeElement.tagName.toLowerCase();\r\n        const charCode = (typeof e.which == \"number\") ? e.which : e.keyCode;\r\n\r\n        if (charCode === 13 && focusedElement === \"textarea\") {\r\n            const messagebox = document.getElementsByTagName(\"textarea\")[0];\r\n\r\n            props.socket.emit('message', {\r\n                id: props.socket.id,\r\n                message: messagebox.value\r\n            });\r\n\r\n            messagebox.value = \"\";\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log(props.socket);\r\n        props.socket.on('message', m => {\r\n            const ul = document.getElementById(\"messages\");\r\n            const li = document.createElement(\"li\");\r\n            li.appendChild(document.createTextNode(`${m.id === props.socket.id ? \"you\" : m.id}: \"${m.message}\"`));\r\n            ul.appendChild(li);\r\n        });\r\n    });\r\n\r\n    return (\r\n\r\n        \r\n\r\n        <div className=\"chat\" onKeyPress={handleMessageSent}>\r\n            <div className=\"messageWindow\">\r\n                <ul id=\"messages\"></ul>\r\n            </div>\r\n            <div className=\"messageInput\">\r\n                <textarea />\r\n            </div>\r\n\r\n            <button onClick={() => {navigate('/')}}>return home</button>\r\n        </div>\r\n        \r\n    );\r\n}\r\n\r\nexport default Chat"]},"metadata":{},"sourceType":"module"}