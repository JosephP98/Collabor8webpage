{"ast":null,"code":"var _jsxFileName = \"D:\\\\react\\\\productwebsite\\\\APP\\\\canvas\\\\src\\\\canvas.js\";\nimport { Component } from 'react';\nimport { io } from 'socket.io-client';\nimport { ReactP5Wrapper } from 'react-p5-wrapper';\nimport './canvas.css'; // TODO : move steck to seperate file?\n// TODO : abstract function\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction sketch(p) {\n  let socket;\n  let canvas;\n  let paintBrushData = {}; //let inputQue = [];\n\n  p.updateWithProps = props => {\n    socket = props.socket;\n  };\n\n  p.draw = () => {\n    p.stroke(255);\n    p.strokeWeight(10);\n    socket.on('line', obj => {\n      //inputQue.push(obj);\n      //while (inputQue.length !== 0) {\n      //let toDraw = inputQue.pop();\n      //while (obj.mousePath.length !== 0) {\n      let {\n        px,\n        py,\n        x,\n        y\n      } = obj;\n      p.line(px, py, x, y); //}\n      //}\n    });\n  };\n\n  p.preload = () => {\n    socket.on('load', o => {\n      if (o !== null) {\n        let img = p.loadImage(o.e, () => {\n          p.image(img, 0, 0);\n        });\n      }\n    });\n  };\n\n  p.setup = () => {\n    p.createCanvas(500, 500);\n    p.background(102);\n  };\n\n  p.mouseDragged = () => {\n    // p.stroke(255);\n    // p.strokeWeight(4);\n    //p.line(p.mouseX, p.mouseY, p.pmouseX, p.mouseY);\n    let mouseX = p.mouseX,\n        mouseY = p.mouseY,\n        pmouseX = p.pmouseX,\n        pmouseY = p.pmouseY; //p.circle(mouseX, mouseY, 4);\n    //paintBrushData.push();\n\n    socket.emit('line', {\n      px: pmouseX,\n      py: pmouseY,\n      x: mouseX,\n      y: mouseY\n    });\n  }; // p.keyPressed = (e) => {\n  //   // check if the event parameter (e) has Z (keycode 90) and ctrl or cmnd\n  //   if (e.keyCode === 90 && (e.ctrlKey || e.metaKey)) {\n  //     let c = document.getElementsByTagName('canvas')[0].toDataURL('image/png');\n  //     console.log(c);\n  //     socket.emit('save', { e: c });\n  //   }\n  //   // if (e.keyCode === 88) {\n  //   //   console.log('z');\n  //   //   socket.emit('load', (c) => { console.log(c); });\n  //   // }\n  // }\n\n\n  p.mouseReleased = () => {\n    let c = document.getElementsByTagName('canvas')[0].toDataURL('image/png');\n    socket.emit('save', {\n      e: c\n    });\n    ;\n  };\n}\n\nclass Canvas extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(ReactP5Wrapper, {\n      sketch: sketch,\n      socket: this.props.socket\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Canvas;","map":{"version":3,"sources":["D:/react/productwebsite/APP/canvas/src/canvas.js"],"names":["Component","io","ReactP5Wrapper","sketch","p","socket","canvas","paintBrushData","updateWithProps","props","draw","stroke","strokeWeight","on","obj","px","py","x","y","line","preload","o","img","loadImage","e","image","setup","createCanvas","background","mouseDragged","mouseX","mouseY","pmouseX","pmouseY","emit","mouseReleased","c","document","getElementsByTagName","toDataURL","Canvas","constructor","state","render"],"mappings":"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","sourcesContent":["import { Component } from 'react';\r\nimport { io } from 'socket.io-client';\r\nimport { ReactP5Wrapper } from 'react-p5-wrapper';\r\n\r\nimport './canvas.css';\r\n\r\n// TODO : move steck to seperate file?\r\n// TODO : abstract function\r\nfunction sketch(p) {\r\n  let socket;\r\n  let canvas;\r\n  let paintBrushData = {};\r\n  //let inputQue = [];\r\n\r\n  p.updateWithProps = props => {\r\n    socket = props.socket;\r\n  }\r\n\r\n  p.draw = () => {\r\n    p.stroke(255);\r\n    p.strokeWeight(10);\r\n\r\n    socket.on('line', obj => {\r\n      //inputQue.push(obj);\r\n      //while (inputQue.length !== 0) {\r\n        //let toDraw = inputQue.pop();\r\n\r\n        //while (obj.mousePath.length !== 0) {\r\n        let { px, py, x, y } = obj;\r\n        p.line(px, py, x, y);\r\n        //}\r\n      //}\r\n    });\r\n  }\r\n\r\n  p.preload = () => {\r\n    socket.on('load', o => {\r\n      if (o !== null) {\r\n        let img = p.loadImage(o.e, () => {\r\n          p.image(img, 0, 0);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  p.setup = () => {\r\n    p.createCanvas(500, 500);\r\n    p.background(102);\r\n  }\r\n\r\n  p.mouseDragged = () => {\r\n    // p.stroke(255);\r\n    // p.strokeWeight(4);\r\n    //p.line(p.mouseX, p.mouseY, p.pmouseX, p.mouseY);\r\n    let mouseX = p.mouseX, mouseY = p.mouseY, pmouseX = p.pmouseX, pmouseY = p.pmouseY;\r\n    //p.circle(mouseX, mouseY, 4);\r\n\r\n    //paintBrushData.push();\r\n\r\n    socket.emit('line', {\r\n      px: pmouseX, py: pmouseY,\r\n      x: mouseX, y: mouseY\r\n    });\r\n\r\n  }\r\n\r\n  // p.keyPressed = (e) => {\r\n  //   // check if the event parameter (e) has Z (keycode 90) and ctrl or cmnd\r\n  //   if (e.keyCode === 90 && (e.ctrlKey || e.metaKey)) {\r\n  //     let c = document.getElementsByTagName('canvas')[0].toDataURL('image/png');\r\n  //     console.log(c);\r\n  //     socket.emit('save', { e: c });\r\n  //   }\r\n\r\n  //   // if (e.keyCode === 88) {\r\n  //   //   console.log('z');\r\n  //   //   socket.emit('load', (c) => { console.log(c); });\r\n  //   // }\r\n  // }\r\n\r\n\r\n  p.mouseReleased = () => {\r\n    let c = document.getElementsByTagName('canvas')[0].toDataURL('image/png');\r\n    socket.emit('save', { e: c });;\r\n  }\r\n}\r\n\r\nclass Canvas extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <ReactP5Wrapper sketch={sketch} socket={this.props.socket}/>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Canvas;"]},"metadata":{},"sourceType":"module"}